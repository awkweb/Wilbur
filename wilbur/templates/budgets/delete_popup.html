<div class="cd-popup" role="alert">
    <div class="cd-popup-container">
        <p>Are you sure you want to delete {{ budget.category.name.title }}?</p>
        <p>Delete will <strong>permanently</strong> remove the {{ budget.category.name.title }} budget and
            its {{ budget_transaction_count }} transactions.</p>
        <a href="{% url 'wilbur:delete-budget' budget.id %}" class="button-delete" role="button">Yes, delete.</a>
        <a class="button-cancel popup-close" role="button">No, cancel.</a>
    </div>
</div>

<script>
    jQuery(document).ready(function($){
        //open popup
        $('.popup-trigger').on('click', function(event){
            event.preventDefault();
            $('.cd-popup').addClass('is-visible');
        });

        //close popup
        $('.cd-popup').on('click', function(event){
            if( $(event.target).is('.cd-popup-close') || $(event.target).is('.cd-popup') || $(event.target).is('.popup-close') ) {
                event.preventDefault();
                $(this).removeClass('is-visible');
            }
        });
        //close popup when clicking the esc keyboard button
        $(document).keyup(function(event){
            if(event.which=='27'){
                $('.cd-popup').removeClass('is-visible');
            }
        });
    });
</script>